(self.webpackChunk_webpackages_source=self.webpackChunk_webpackages_source||[]).push([[642],{"./libs/form/src/lib/fields/field.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rl:()=>BaseFieldComponent,wO:()=>CommonFieldModule});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@angular+common@17.0.4_@angular+core@17.0.4_rxjs@7.8.1/node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@angular+core@17.0.4_rxjs@7.8.1_zone.js@0.14.2/node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@angular+forms@17.0.4_@angular+common@17.0.4_@angular+core@17.0.4_@angular+platform-browser@17.0.4_rxjs@7.8.1/node_modules/@angular/forms/fesm2022/forms.mjs"),_angular_material_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/button.mjs"),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/form-field.mjs"),_angular_material_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/icon.mjs"),_angular_material_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/input.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/map.js");let CommonFieldModule=class CommonFieldModule{};CommonFieldModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({exports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.CommonModule,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UX,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_4__.lN,_angular_material_input__WEBPACK_IMPORTED_MODULE_5__.c,_angular_material_icon__WEBPACK_IMPORTED_MODULE_6__.Ps,_angular_material_button__WEBPACK_IMPORTED_MODULE_7__.ot]})],CommonFieldModule);class ErrorState{isErrorState(control){return!(!control?.dirty||!control.invalid)}}let BaseFieldComponent=class BaseFieldComponent{constructor(formGroup){this.formGroup=formGroup,this.errorState=new ErrorState,this.updateEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.inputType="text",this.required=!1,this.prefixIcon="info",this.isUpdateField=!1}ngOnInit(){const control=this.formGroup.get(this.inputName);control?(this.errors$=control.valueChanges.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.O)(""),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.b)(400),(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.U)((()=>control.touched&&control.dirty?Object.values(control.errors||{}).shift():null))),this.iconColor$=this.errors$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_10__.U)((e=>control.touched&&e?"warn":"primary")))):console.error(`Controller ${this.inputName} not found!`)}focus(){this.inputRef?.focus&&this.inputRef.focus()}updateField(){const control=this.formGroup.get(this.inputName);control?.markAllAsTouched(),control?.markAsDirty(),this.updateEvent.emit(control?.value)}static#_=this.ctorParameters=()=>[{type:_angular_forms__WEBPACK_IMPORTED_MODULE_3__.cw}];static#_2=this.propDecorators={updateEvent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],inputRef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,args:["input"]}],inputName:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],inputType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],required:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],label:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],prefixIcon:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suffixIcon:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],hint:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isUpdateField:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}]}};BaseFieldComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:""}),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.w6)("design:paramtypes",[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.cw])],BaseFieldComponent)},"./libs/form/src/lib/fields/list-select.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>ListSelectComponent});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@angular+core@17.0.4_rxjs@7.8.1_zone.js@0.14.2/node_modules/@angular/core/fesm2022/core.mjs"),_field__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/form/src/lib/fields/field.ts"),_angular_material_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/list.mjs"),_angular_material_checkbox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/checkbox.mjs"),_angular_material_card__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@angular+material@17.0.1_@angular+animations@17.0.4_@angular+cdk@17.0.1_@angular+common@17.0._hy563qbtslkxwdplpakghctooa/node_modules/@angular/material/fesm2022/card.mjs");let ListSelectComponent=class ListSelectComponent extends _field__WEBPACK_IMPORTED_MODULE_0__.rl{toggleSelectAll(event){event.checked?this.inputRef.selectAll():this.inputRef.deselectAll()}getValues(){return this.inputRef?.selectedOptions?.selected?.map((e=>e.value))||[]}itemsLength(){return this.items?.map((e=>e.subs?.length||1)).reduce(((p,c)=>p+c))||0}valuesLength(){return this.getValues().length}someSelect(){return this.valuesLength()>0&&this.itemsLength()>this.valuesLength()}allSelected(){return this.itemsLength()==this.valuesLength()}isSelected(item){return!!this.selectedItems?.find((e=>item.id==e.id))}static#_=this.propDecorators={selectedItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],items:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}]}};ListSelectComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({standalone:!0,imports:[_field__WEBPACK_IMPORTED_MODULE_0__.wO,_angular_material_list__WEBPACK_IMPORTED_MODULE_3__.ie,_angular_material_checkbox__WEBPACK_IMPORTED_MODULE_4__.p9,_angular_material_card__WEBPACK_IMPORTED_MODULE_5__.QW],selector:"wt-list-select-field",template:'\n    <mat-card style="width: 100%;">\n      <mat-card-header>\n        <mat-card-title>\n          <h2>{{ label }}</h2>\n        </mat-card-title>\n      </mat-card-header>\n      <mat-card-content>\n        <mat-checkbox\n          #selectAll\n          (change)="toggleSelectAll($event)"\n          [checked]="allSelected()"\n          [indeterminate]="someSelect()"\n        >\n          {{ selectAll.checked ? \'Deselect All\' : \'Select All\' }}\n        </mat-checkbox>\n\n        <div [formGroup]="formGroup">\n          <mat-selection-list\n            #input\n            [formControlName]="inputName"\n            [attr.data-testid]="inputName"\n          >\n            <div style="display: flex; flex-direction: row; gap: 1em;">\n              @for (item of items; track item) {\n              <section>\n                <h1 *ngIf="item.subs">{{ item.label }}</h1>\n                @if(item.subs) { @for(subItem of item.subs; track subItem){\n                <mat-list-option\n                  [value]="subItem"\n                  checkboxPosition="before"\n                  [attr.data-testid]="subItem.label + item.label"\n                  [selected]="isSelected(subItem)"\n                >\n                  <span>{{ subItem.label }}</span>\n                </mat-list-option>\n\n                } } @else {\n\n                <mat-list-option\n                  [value]="item"\n                  checkboxPosition="before"\n                  [attr.data-testid]="item.label"\n                  [selected]="isSelected(item)"\n                >\n                  <span> {{ item.label }} </span>\n                </mat-list-option>\n                }\n              </section>\n              }\n            </div>\n          </mat-selection-list>\n        </div>\n      </mat-card-content>\n      <mat-card-actions>\n        <button\n          matTextSuffix\n          mat-raised-button\n          color="primary"\n          (click)="updateField()"\n          *ngIf="isUpdateField"\n        >\n          <mat-icon matIconPrefix>update</mat-icon>\n          <span> Update </span>\n        </button>\n      </mat-card-actions>\n    </mat-card>\n  '})],ListSelectComponent)},"./libs/form/src/lib/fields/list-select.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Heading:()=>Heading,Primary:()=>Primary,default:()=>__WEBPACK_DEFAULT_EXPORT__});var C_Users_aemre_Projects_webtelescope_tech_node_modules_pnpm_babel_runtime_7_23_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.23.2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@storybook+angular@7.5.3_@angular-devkit+architect@0.1700.3_@angular-devkit+build-angular@17._u5b7dw7mqoq4ihk2axqguryska/node_modules/@storybook/angular/dist/index.mjs"),_list_select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/form/src/lib/fields/list-select.ts"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@angular+platform-browser@17.0.4_@angular+animations@17.0.4_@angular+common@17.0.4_@angular+core@17.0.4/node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@storybook+testing-library@0.2.2/node_modules/@storybook/testing-library/dist/index.mjs"),_storybook_jest__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@storybook+jest@0.2.3_jest@29.7.0_vitest@0.34.6/node_modules/@storybook/jest/dist/index.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@angular+forms@17.0.4_@angular+common@17.0.4_@angular+core@17.0.4_@angular+platform-browser@17.0.4_rxjs@7.8.1/node_modules/@angular/forms/fesm2022/forms.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@angular+core@17.0.4_rxjs@7.8.1_zone.js@0.14.2/node_modules/@angular/core/fesm2022/core.mjs");const __WEBPACK_DEFAULT_EXPORT__={component:_list_select__WEBPACK_IMPORTED_MODULE_2__.U,title:"ListSelectComponent",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.importProvidersFrom)(_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.BrowserAnimationsModule),{provide:_angular_forms__WEBPACK_IMPORTED_MODULE_5__.cw,useValue:new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.cw({permissions:new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NI([],[])})}]})]},Primary={args:{label:"Select Permissions",inputName:"permissions",prefixIcon:"",suffixIcon:"",required:!1,isUpdateField:!1,selectedItems:[{id:3}],items:[{id:1,label:"User",subs:[{id:3,label:"Read"},{id:4,label:"Create"},{id:5,label:"Update"},{id:6,label:"Delete"}]},{id:2,label:"Organization",subs:[{id:7,label:"Read"},{id:8,label:"Create"},{id:9,label:"Update"},{id:10,label:"Delete"}]}]}},Heading={args:Primary.args,play:(_ref=(0,C_Users_aemre_Projects_webtelescope_tech_node_modules_pnpm_babel_runtime_7_23_2_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__.Z)((function*({canvasElement}){const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement),title=yield canvas.findByText(/Select Permissions/gi);(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_7__.l)(title).toBeTruthy()})),function play(_x){return _ref.apply(this,arguments)})};var _ref},"?5370":()=>{}}]);