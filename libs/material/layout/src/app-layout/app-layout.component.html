<ng-template
  #toolbarTemplate
  let-left="left"
  let-right="right"
  let-testName="testName"
>
  <div class="row-container">
    <div class="row-container">
      <wt-template-outlet
        [items]="left"
        [testing]="testing"
        testName="left"
      ></wt-template-outlet>
    </div>
    <div class="row-container-right">
      <wt-template-outlet
        [items]="right"
        [testing]="testing"
        testName="right"
      ></wt-template-outlet>
    </div>
  </div>
</ng-template>

<mat-sidenav-container #viewport="wtViewport" wtViewport>
  <!-- Sidenav Left -->
  <mat-sidenav
    #leftSidenav
    class="left"
    position="start"
    [opened]="viewport.toggleValue(true, false)"
    [mode]="viewport.toggleValue('side', 'over')"
    (click)="viewport.isHandset ? leftSidenav.close() : null"
  >
    <wt-template-outlet
      [items]="sidenavLeft"
      [testing]="testing"
      testName="Left sidenav"
    ></wt-template-outlet>
  </mat-sidenav>

  <!-- Sidenav Right -->
  <mat-sidenav
    #rightSidenav
    class="right"
    position="end"
    [mode]="viewport.toggleValue('side', 'over')"
    (click)="viewport.isHandset ? rightSidenav.close() : null"
  >
    <wt-template-outlet
      [items]="sidenavRight"
      [testing]="testing"
      testName="Right sidenav"
    ></wt-template-outlet>
  </mat-sidenav>

  <!-- --Start of the content -->
  <mat-sidenav-content>
    <!-- Main toolbar -->
    <mat-toolbar class="toolbar" color="primary">
      <img wtAppLogo *ngIf="viewport.isNotHandset" />

      <!-- Left Sidenav Toggle -->
      <button
        mat-icon-button
        (click)="leftSidenav.toggle()"
        aria-label="Toggle Left Sidenav"
      >
        <mat-icon class="fill">{{
          leftSidenav.opened ? 'menu_opened' : 'menu'
        }}</mat-icon>
      </button>

      <!-- Toolbar Items -->
      <ng-container
        *ngTemplateOutlet="
          toolbarTemplate;
          context: {
            left: toolbarLeft,
            right: toolbarRight,
            testName: 'toolbar'
          }
        "
      ></ng-container>

      <!-- Right Sidenav Toggle -->
      <button
        mat-icon-button
        (click)="rightSidenav.toggle()"
        aria-label="Toggle Right Sidenav"
      >
        <mat-icon class="fill">{{ rightSidenavToggleIcon }}</mat-icon>
      </button>
    </mat-toolbar>

    <!-- Main Content  -->

    <div #mainContentContainer class="main-content-container column-container">
      <!-- Full Screen Button -->
      <button
        class="fullscreen-button"
        mat-icon-button
        #mainFullscreen="wtFullscreen"
        wtFullscreen
        [targetElement]="mainContentContainer"
        [attr.aria-label]="
          mainFullscreen.toggleValue('Fullscreen', 'Exit Fullscreen')
        "
      >
        <mat-icon>
          {{ mainFullscreen.toggleValue('fullscreen', 'fullscreen_exit') }}
        </mat-icon>
      </button>

      <wt-template-outlet
        [items]="mainContent"
        [testing]="testing"
        testName="Main Content"
      ></wt-template-outlet>

      <wt-floating-container
        [items]="floatingItems"
        [testing]="testing"
      ></wt-floating-container>
    </div>

    <!-- Statusbar -->
    <mat-toolbar class="statusbar" color="primary">
      <ng-container
        *ngTemplateOutlet="
          toolbarTemplate;
          context: {
            left: statusbarLeft,
            right: statusbarRight,
            testName: 'statusbar'
          }
        "
      ></ng-container>
    </mat-toolbar>
    <!-- --Endof the content -->
  </mat-sidenav-content>
</mat-sidenav-container>
